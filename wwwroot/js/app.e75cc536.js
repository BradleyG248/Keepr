(function(t){function e(e){for(var s,r,n=e[0],o=e[1],d=e[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);c&&c(e);while(p.length)p.shift()();return l.push.apply(l,d||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],s=!0,n=1;n<a.length;n++){var o=a[n];0!==i[o]&&(s=!1)}s&&(l.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},l=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=e,n=n.slice();for(var d=0;d<n.length;d++)e(n[d]);var c=o;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"029a":function(t,e,a){"use strict";var s=a("7826"),i=a.n(s);i.a},2008:function(t,e,a){},3546:function(t,e,a){"use strict";var s=a("2008"),i=a.n(s);i.a},"4a9f":function(t,e,a){"use strict";var s=a("d04c"),i=a.n(s);i.a},"546d":function(t,e,a){"use strict";var s=a("d20e"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},l=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[t._v("Keepr")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"dashboard"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"dashboard"}}},[t._v("My-Dashboard")])],1):t._e()]),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],o=a("bc3a"),d=a.n(o);d.a.create({baseURL:"https://localhost:5001",withCredentials:!0});var c={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},u=c,p=a("2877"),m=Object(p["a"])(u,r,n,!1,null,null,null),v=m.exports,f=a("335d"),h={name:"App",async beforeCreate(){await Object(f["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer)},components:{Navbar:v}},b=h,g=(a("5c0b"),Object(p["a"])(b,i,l,!1,null,null,null)),_=g.exports,C=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"row"},t._l(t.keeps,(function(t){return a("div",{key:t._id,staticClass:"col-6 col-md-4"},[a("keep",{attrs:{keepData:t,keepId:t.id}})],1)})),0)])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"home col-12"},[a("h1",[t._v("Welcome Home")])])])}],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rounded mb-1 p-1 bg-dark text-light d-flex flex-column align-items-center"},[a("img",{staticClass:"img-fluid rounded",attrs:{src:t.keepData.img,alt:""}}),t.form?t._e():a("div",{staticClass:"align-self-start"},[a("h5",{staticClass:"keep-title"},[t._v(t._s(t.keepData.name))]),a("p",[t._v(t._s(t.keepData.description))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"dashboard"==t.$route.name,expression:"$route.name == 'dashboard'"}]},[t.form?a("div",{},[a("form",{staticClass:"d-flex justify-content-center flex-column align-items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedKeep.name,expression:"editedKeep.name"}],staticClass:"form-control mt-1",attrs:{placeholder:"Title",type:"text"},domProps:{value:t.editedKeep.name},on:{input:function(e){e.target.composing||t.$set(t.editedKeep,"name",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedKeep.description,expression:"editedKeep.description"}],staticClass:"form-control mt-1",attrs:{placeholder:"Description",type:"text"},domProps:{value:t.editedKeep.description},on:{input:function(e){e.target.composing||t.$set(t.editedKeep,"description",e.target.value)}}})]),a("button",{staticClass:"mt-1 btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.editKeep()}}},[t._v("Submit")])]):t._e(),t.keepData.userId==t.profile.userId?a("div",{staticClass:"mt-1"},[a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(e){return t.remove()}}},[t._v("Delete")]),a("button",{staticClass:"btn btn-warning mx-1",on:{click:function(e){t.form=!t.form}}},[t._v("Edit")]),a("router-link",{attrs:{to:{name:"keep",params:{keepId:t.keepData.id}}}},[a("button",{staticClass:"btn btn-primary"},[t._v("View")])])],1):t._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:"vault"==t.$route.name,expression:"$route.name == 'vault'"}]},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.removeKeepVault()}}},[t._v("Remove")]),a("router-link",{attrs:{to:{name:"keep",params:{keepId:t.keepData.id}}}},[a("button",{staticClass:"btn btn-primary"},[t._v("View")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"home"==t.$route.name,expression:"$route.name == 'home'"}]},[a("button",{staticClass:"btn btn-primary"},[t._v("Share")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#editKeep"+t.keepData.id}},[t._v("Keep")]),a("router-link",{attrs:{to:{name:"keep",params:{keepId:t.keepData.id}}}},[a("button",{staticClass:"btn btn-primary"},[t._v("View")])]),a("div",{staticClass:"modal fade",attrs:{id:"editKeep"+t.keepData.id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body d-flex justify-content-center"},[a("h5",[t._v(t._s(this.keep.name))]),a("form",{staticClass:"d-flex flex-column align-items-center w-100"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.vault,expression:"vault"}],staticClass:"btn btn-primary text-light mb-3",attrs:{name:"vaults",id:"vault-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.vault=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:""}},[t._v("No Vault")]),t._l(t.vaults,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),a("button",{staticClass:"btn btn-warning align-self-start",attrs:{type:"submit","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.setVault()}}},[t._v("Submit Changes")])])]),t._m(0)])])]),a("div",{staticClass:"d-flex flex-row justify-content-around"},[a("p",[t._v("Views: "+t._s(t.keepData.views))]),a("p",[t._v("Keeps: "+t._s(t.keepData.keeps))])])],1)])},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],x={props:["keepData","keepId"],computed:{profile(){return this.$store.state.profile},vaults(){return this.$store.state.vaults}},data(){return{form:!1,editedKeep:{name:this.keepData.name,description:this.keepData.description,id:this.keepData.id},vault:null,keep:{}}},methods:{async editKeep(){"dashboard"==this.$route.name?await this.$store.dispatch("editUserKeep",this.editedKeep):await this.$store.dispatch("editPublicKeep",this.editedKeep),this.editedKeep={title:this.keepData.name,description:this.keepData.description,id:this.keepData.id},this.form=!1},async setVault(){this.vault&&(await this.$store.dispatch("setKeepVault",{keepId:this.keepData.id,vaultId:this.vault}),this.vault=null)},remove(){this.$store.dispatch("deleteKeep",this.keepData.id)},removeKeepVault(){this.$store.dispatch("deleteKeepVault",{keepId:this.keepData.id,vaultKeepId:this.keepData.vaultKeepId})}}},$=x,V=(a("4a9f"),Object(p["a"])($,k,K,!1,null,"9d2c509c",null)),P=V.exports,D={name:"home",computed:{user(){return this.$store.state.user},keeps(){return this.$store.state.publicKeeps}},methods:{logout(){this.$store.dispatch("logout")}},async mounted(){await this.$auth.isAuthenticated&&(this.$store.dispatch("getKeeps"),this.$store.dispatch("getVaults"))},components:{keep:P}},I=D,j=Object(p["a"])(I,w,y,!1,null,null,null),E=j.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 d-flex flex-row align-items-center justify-content-between pt-3"},[a("div",{staticClass:"d-flex flex-row"},[t.profile.img?a("img",{staticClass:"rounded-pill profile img-fluid",attrs:{src:t.profile.img,alt:""}}):t._e(),a("div",{staticClass:"pl-1"},[a("h1",[t._v(t._s(t.profile.name))]),a("p",[t._v(t._s(t.profile.email))])])]),a("edit",{staticClass:"align-self-start",attrs:{profile:t.profile}})],1)]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 d-flex text-center justify-content-around"},[a("h2",{staticClass:"clicker",on:{click:function(e){t.keep=!0}}},[t._v("Your Keeps")]),t.keep?a("kcreate"):t._e(),t.keep?t._e():a("vcreate"),a("h2",{staticClass:"clicker",on:{click:function(e){t.keep=!1}}},[t._v("Your Vaults")])],1)]),t.keep?a("div",{staticClass:"row"},t._l(t.keeps,(function(t){return a("div",{key:t.id,staticClass:"col-6 col-md-4"},[a("keep",{attrs:{keepData:t,keepId:t.id}})],1)})),0):a("div",{staticClass:"row"},t._l(t.vaults,(function(t){return a("div",{key:t.id,staticClass:"col-12 col-md-6"},[a("vault",{attrs:{vaultData:t}})],1)})),0)])},O=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#editProfile"}},[t._v("Edit Profile")]),a("div",{staticClass:"modal fade",attrs:{id:"editProfile",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",[a("h5",{},[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedProfile.name,expression:"editedProfile.name"}],staticClass:"form-control",attrs:{placeholder:"Username",type:"text"},domProps:{value:t.editedProfile.name},on:{input:function(e){e.target.composing||t.$set(t.editedProfile,"name",e.target.value)}}}),a("h5",{staticClass:"mt-2"},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedProfile.email,expression:"editedProfile.email"}],staticClass:"form-control",attrs:{placeholder:"Email",type:"text"},domProps:{value:t.editedProfile.email},on:{input:function(e){e.target.composing||t.$set(t.editedProfile,"email",e.target.value)}}}),a("h5",{staticClass:"mt-2"},[t._v("Image")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedProfile.img,expression:"editedProfile.img"}],staticClass:"form-control",attrs:{placeholder:"Image link",type:"text"},domProps:{value:t.editedProfile.img},on:{input:function(e){e.target.composing||t.$set(t.editedProfile,"img",e.target.value)}}}),a("button",{staticClass:"btn btn-warning mt-2",attrs:{type:"submit","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.editProfile()}}},[t._v("Submit Changes")])])]),t._m(1)])])])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Modal title")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],M={props:["profile"],data(){return{editedProfile:{name:this.profile.name,email:this.profile.email,img:this.profile.img}}},methods:{async editProfile(){await this.$store.dispatch("editProfile",this.editedProfile),this.editedProfile={name:this.profile.name,email:this.profile.email,img:this.profile.img}}}},B=M,L=Object(p["a"])(B,A,U,!1,null,null,null),S=L.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rounded mb-1 p-1 bg-light text-dark d-flex flex-column justify-content-around align-items-center"},[t.form?a("div",{},[a("form",{staticClass:"d-flex justify-content-center flex-column align-items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedVault.name,expression:"editedVault.name"}],staticClass:"form-control mt-1",attrs:{placeholder:"Title",type:"text"},domProps:{value:t.editedVault.name},on:{input:function(e){e.target.composing||t.$set(t.editedVault,"name",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editedVault.description,expression:"editedVault.description"}],staticClass:"form-control mt-1",attrs:{placeholder:"Description",type:"text"},domProps:{value:t.editedVault.description},on:{input:function(e){e.target.composing||t.$set(t.editedVault,"description",e.target.value)}}})]),a("button",{staticClass:"mt-1 btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.editVault()}}},[t._v("Submit")])]):a("div",{staticClass:"align-self-start"},[a("h1",{staticClass:"keep-title"},[t._v(t._s(t.vaultData.name))]),a("h3",[t._v(t._s(t.vaultData.description))])]),t.vaultData.userId==t.profile.userId?a("div",{staticClass:"mt-1 justify-content-around d-flex w-100"},[a("button",{staticClass:"btn btn-danger mx-1",on:{click:function(e){return t.deleteVault()}}},[t._v("Delete")]),a("button",{staticClass:"btn btn-warning mx-1",on:{click:function(e){t.form=!t.form}}},[t._v("Edit")]),a("router-link",{attrs:{to:{name:"vault",params:{vaultId:t.vaultData.id}}}},[a("button",{staticClass:"btn btn-primary"},[t._v("View")])])],1):t._e()])},R=[],W={props:["vaultData"],computed:{profile(){return this.$store.state.profile}},data(){return{form:!1,editedVault:{name:this.vaultData.name,description:this.vaultData.description,id:this.vaultData.id}}},methods:{async editVault(){await this.$store.dispatch("editVault",this.editedVault),this.editedVault={title:this.vaultData.name,description:this.vaultData.description,id:this.vaultData.id},this.form=!1},deleteVault(){this.$store.dispatch("deleteVault",this.vaultData.id)}}},z=W,H=(a("f0f3"),Object(p["a"])(z,T,R,!1,null,"3f6226a2",null)),J=H.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-primary mb-3",attrs:{type:"button","data-toggle":"modal","data-target":"#createKeep"}},[t._v("Create Keep")]),a("div",{staticClass:"modal fade",attrs:{id:"createKeep",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"d-flex flex-column align-items-center"},[a("h2",[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control mb-2",attrs:{placeholder:"Title",type:"text"},domProps:{value:t.newKeep.name},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"name",e.target.value)}}}),a("h2",[t._v("Description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control mb-2",attrs:{placeholder:"Description",type:"text"},domProps:{value:t.newKeep.description},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"description",e.target.value)}}}),a("h2",[t._v("Image")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.img,expression:"newKeep.img"}],staticClass:"form-control mb-2",attrs:{placeholder:"Image URL",type:"text"},domProps:{value:t.newKeep.img},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"img",e.target.value)}}}),a("div",{staticClass:"d-flex justify-content-start w-100"},[a("p",{staticClass:"check"},[t._v("Private:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.isPrivate,expression:"newKeep.isPrivate"}],staticClass:"checkbox mt-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.newKeep.isPrivate)?t._i(t.newKeep.isPrivate,null)>-1:t.newKeep.isPrivate},on:{change:function(e){var a=t.newKeep.isPrivate,s=e.target,i=!!s.checked;if(Array.isArray(a)){var l=null,r=t._i(a,l);s.checked?r<0&&t.$set(t.newKeep,"isPrivate",a.concat([l])):r>-1&&t.$set(t.newKeep,"isPrivate",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.newKeep,"isPrivate",i)}}})]),a("button",{staticClass:"btn btn-warning",attrs:{type:"submit","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.createKeep()}}},[t._v("Create")])])]),t._m(1)])])])])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Create Keep")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],G={data(){return{newKeep:{}}},methods:{async createKeep(){await this.$store.dispatch("createKeep",this.newKeep),this.newKeep={}}}},Q=G,X=Object(p["a"])(Q,Y,q,!1,null,null,null),F=X.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-primary mb-3",attrs:{type:"button","data-toggle":"modal","data-target":"#createVault"}},[t._v("Create Vault")]),a("div",{staticClass:"modal fade",attrs:{id:"createVault",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.name,expression:"newVault.name"}],staticClass:"form-control",attrs:{placeholder:"Title",type:"text"},domProps:{value:t.newVault.name},on:{input:function(e){e.target.composing||t.$set(t.newVault,"name",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.description,expression:"newVault.description"}],staticClass:"form-control",attrs:{placeholder:"Description",type:"text"},domProps:{value:t.newVault.description},on:{input:function(e){e.target.composing||t.$set(t.newVault,"description",e.target.value)}}}),a("button",{staticClass:"btn btn-warning",attrs:{type:"submit","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.createVault()}}},[t._v("Create")])])]),t._m(1)])])])])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Create Vault")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],et={data(){return{newVault:{}}},methods:{async createVault(){await this.$store.dispatch("createVault",this.newVault),this.newVault={}}}},at=et,st=Object(p["a"])(at,Z,tt,!1,null,null,null),it=st.exports,lt={async mounted(){await this.$auth.isAuthenticated&&(this.$store.dispatch("getProfile"),this.$store.dispatch("getUserKeeps"),this.$store.dispatch("getVaults"))},computed:{profile(){return this.$store.state.profile},keeps(){return this.$store.state.userKeeps},vaults(){return this.$store.state.vaults}},methods:{async editProfile(){this.editedProfile&&(await this.$store.dispatch("editProfile",this.editedProfile),this.editedProfile={},this.form=!1)}},components:{keep:P,edit:S,vault:J,kcreate:F,vcreate:it},data(){return{editedProfile:{},form:!1,keep:!0}}},rt=lt,nt=(a("029a"),Object(p["a"])(rt,N,O,!1,null,"3b5832fe",null)),ot=nt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",[t._v(t._s(t.vault.name))]),a("h2",[t._v(t._s(t.vault.description))])])]),t._m(0),a("div",{staticClass:"row"},t._l(t.keeps,(function(t){return a("div",{key:t._id,staticClass:"grid-item col-6 col-md-3"},[a("keep",{attrs:{keepData:t}})],1)})),0)])},ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h2",[t._v("Keeps")])])])}],ut={async mounted(){await this.$auth.isAuthenticated&&(this.$store.dispatch("getVaultById",this.$route.params.vaultId),this.$store.dispatch("getKeepsByVault",this.$route.params.vaultId))},computed:{vault(){return this.$store.state.activeVault},keeps(){return this.$store.state.userKeeps}},methods:{},components:{keep:P},data(){return{form:!1}}},pt=ut,mt=(a("546d"),Object(p["a"])(pt,dt,ct,!1,null,"4d3fbfe0",null)),vt=mt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("img",{staticClass:"img-fluid",attrs:{src:t.keep.img,alt:""}}),a("h1",[t._v(t._s(t.keep.name))]),a("h2",[t._v(t._s(t.keep.description))]),a("h5",[t._v("Keeps: "+t._s(t.keep.keeps))]),a("h5",[t._v("Views: "+t._s(t.keep.views))]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#editKeep"+t.keep.id}},[t._v("Keep")]),a("div",{staticClass:"modal fade",attrs:{id:"editKeep"+t.keep.id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body d-flex justify-content-center"},[a("form",{staticClass:"d-flex flex-column align-items-center w-100"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.vault,expression:"vault"}],staticClass:"btn btn-primary text-light mb-3",attrs:{name:"vaults",id:"vault-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.vault=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:""}},[t._v("No Vault")]),t._l(t.vaults,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),a("button",{staticClass:"btn btn-warning align-self-start",attrs:{type:"submit","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.setVault()}}},[t._v("Submit Changes")])])]),t._m(0)])])])]),a("div",{staticClass:"col-5"},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.profile.img,expression:"profile.img"}],staticClass:"profile rounded-pill",attrs:{src:t.profile.img,alt:""}}),a("div",{staticClass:"d-flex flex-column justify-content-around"},[a("h2",[t._v("Creator: "+t._s(t.profile.name))]),a("h4",[t._v("Email: "+t._s(t.profile.email))])])])])])},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],bt={name:"KeepView",async mounted(){await this.$auth.isAuthenticated&&(await this.$store.dispatch("getKeepById",this.$route.params.keepId),this.$store.dispatch("getProfileById",this.keep.userId),this.$store.dispatch("getVaults"))},computed:{keep(){return this.$store.state.activeKeep},profile(){return this.$store.state.activeProfile},vaults(){return this.$store.state.vaults}},methods:{async setVault(){this.vault&&(await this.$store.dispatch("setKeepVault",{keepId:this.keep.id,vaultId:this.vault}),this.vault=null)}},components:{},data(){return{form:!1,vault:0}}},gt=bt,_t=(a("3546"),Object(p["a"])(gt,ft,ht,!1,null,"d0e0f610",null)),Ct=_t.exports;s["a"].use(C["a"]);var wt=new C["a"]({routes:[{path:"/",name:"home",component:E},{path:"/dashboard",name:"dashboard",component:ot,beforeEnter:f["b"]},{path:"/vault/:vaultId",name:"vault",component:vt,beforeEnter:f["b"]},{path:"/keep/:keepId",name:"keep",component:Ct}]}),yt=a("2f62");s["a"].use(yt["a"]);let kt=location.host.includes("localhost")?"https://localhost:5001/":"/",Kt=d.a.create({baseURL:kt+"api/",timeout:3e3,withCredentials:!0});var xt=new yt["a"].Store({state:{profile:{},publicKeeps:[],userKeeps:[],vaults:[],activeVault:{},activeKeep:{},activeProfile:{}},mutations:{setPublicKeeps(t,e){t.publicKeeps=e},setUserKeeps(t,e){t.userKeeps=e},setActiveKeep(t,e){t.activeKeep=e},editUserKeeps(t,e){let a=t.userKeeps.findIndex(t=>t.id==e.id);t.userKeeps[a]=e},editPublicKeeps(t,e){let a=t.publicKeeps.findIndex(t=>t.id==e.id);t.publicKeeps[a]=e},addKeep(t,e){t.publicKeeps.push(e),t.userKeeps.push(e)},deleteKeep(t,e){t.publicKeeps=t.publicKeeps.filter(t=>t.id!=e),t.userKeeps=t.userKeeps.filter(t=>t.id!=e)},setVaults(t,e){t.vaults=e},setActiveVault(t,e){t.activeVault=e},addVault(t,e){t.vaults.push(e)},editVault(t,e){let a=t.vaults.findIndex(t=>t.id==e.id);t.vaults[a]=e},deleteVault(t,e){t.vaults=t.vaults.filter(t=>t.id!=e)},setProfile(t,e){t.profile=e},setActiveProfile(t,e){t.activeProfile=e}},actions:{setBearer({},t){Kt.defaults.headers.authorization=t},resetBearer(){Kt.defaults.headers.authorization=""},async getKeeps({commit:t,dispatch:e}){let a=await Kt.get("keeps");t("setPublicKeeps",a.data)},async getKeepById({commit:t},e){let a=await Kt.get(`keeps/${e}`);t("setActiveKeep",a.data)},async getUserKeeps({commit:t}){let e=await Kt.get("profile/keeps");t("setUserKeeps",e.data)},async getKeepsByVault({commit:t},e){let a=await Kt.get(`vaults/${e}/keeps`);t("setUserKeeps",a.data)},async editUserKeep({commit:t},e){let a=await Kt.put(`keeps/${e.id}`,e);t("editUserKeeps",a.data)},async editPublicKeep({commit:t},e){let a=await Kt.put(`keeps/${e.id}`,e);t("editPublicKeeps",a.data)},async setKeepVault({commit:t},e){await Kt.post("vaultkeeps",e)},async deleteKeepVault({commit:t},e){await Kt.delete(`vaultkeeps/${e.vaultKeepId}`),t("deleteKeep",e.keepId)},async createKeep({commit:t},e){let a=await Kt.post("keeps",e);t("addKeep",a.data)},async deleteKeep({commit:t},e){await Kt.delete(`keeps/${e}`),t("deleteKeep",e)},async getVaults({commit:t}){let e=await Kt.get("vaults");t("setVaults",e.data)},async getVaultById({commit:t},e){let a=await Kt.get(`vaults/${e}`);t("setActiveVault",a.data)},async editVault({commit:t},e){let a=await Kt.put(`vaults/${e.id}`,e);t("editVault",a.data)},async createVault({commit:t},e){let a=await Kt.post("vaults",e);t("addVault",a.data)},async deleteVault({commit:t},e){await Kt.delete(`vaults/${e}`),t("deleteVault",e)},async getProfile({commit:t}){let e=await Kt.get("profile");t("setProfile",e.data)},async getProfileById({commit:t},e){let a=await Kt.get(`profile/${e}`);t("setActiveProfile",a.data)},async editProfile({commit:t},e){let a=await Kt.put("profile",e);t("setProfile",a.data)}}});const $t="ten-1085.auth0.com",Vt="bradleyslibrary.com",Pt="xaMXmVh3aIuG72q0WNDsoO2LP962x4Qk";s["a"].use(f["a"],{domain:$t,clientId:Pt,audience:Vt,onRedirectCallback:t=>{wt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:wt,store:xt,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),i=a.n(s);i.a},7826:function(t,e,a){},"9c0c":function(t,e,a){},d04c:function(t,e,a){},d20e:function(t,e,a){},dc4d:function(t,e,a){},f0f3:function(t,e,a){"use strict";var s=a("dc4d"),i=a.n(s);i.a}});